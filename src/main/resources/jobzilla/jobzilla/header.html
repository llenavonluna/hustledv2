<!-- Dynamic Header Component - Works for both Guest and Logged-in Users -->
<!-- This header is injected dynamically into all pages via header-injector.js -->

<style>
    /* Auth sections - hidden by default, shown by JavaScript based on login state */
    #header-guest { display: none; }
    #header-loggedin { display: none; }
</style>

<header class="site-header header-style-3 mobile-sider-drawer-menu" id="dynamic-header">
    <div class="pattern-layer" style="background-image:url(images/resource/shape-1.png)"></div>

    <div class="sticky-header main-bar-wraper navbar-expand-lg">
        <div class="main-bar">
            <div class="container-fluid clearfix">

                <!-- LOGO -->
                <div class="logo-header">
                    <div class="logo-header-inner logo-header-one">
                        <a href="index.html">
                            <img src="images/HustlEd.svg" alt="HustlEd">
                        </a>
                    </div>
                </div>

                <!-- MOBILE MENU TOGGLE -->
                <button id="mobile-side-drawer" data-target=".header-nav" data-toggle="collapse" type="button" class="navbar-toggler collapsed">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar icon-bar-first"></span>
                    <span class="icon-bar icon-bar-two"></span>
                    <span class="icon-bar icon-bar-three"></span>
                </button>

                <!-- NAVIGATION MENU -->
                <div class="nav-animation header-nav navbar-collapse collapse d-flex justify-content-center">
                    <ul class="nav navbar-nav">
                        <li class="has-mega-menu">
                            <a href="index.html">Home</a>
                        </li>
                        <li class="has-child">
                            <a href="job-grid.html">Jobs</a>
                        </li>
                        <li class="has-child">
                            <a href="javascript:;">Employers <i class="fa-solid fa-angle-down fa-xl"></i></a>
                            <ul class="sub-menu">
                                <li><a href="employer-grid.html">Employers Grid</a></li>
                                <li><a href="employer-list.html">Employers List</a></li>
                                <li class="has-child">
                                    <a href="javascript:;">Employers Detail <i class="fa-solid fa-angle-down"></i></a>
                                    <ul class="sub-menu">
                                        <li><a href="employer-detail.html">Detail 1</a></li>
                                        <li><a href="employer-detail-v2.html">Detail 2</a></li>
                                    </ul>
                                </li>
                                <li><a href="employer-profile.html">Profile</a></li>
                                <li><a href="employer-resume.html">Resume</a></li>
                                <li><a href="employer-manage-jobs.html">Manage Jobs</a></li>
                                <li><a href="employer-post-job.html">Post A Job</a></li>
                                <li><a href="employer-transaction.html">Transaction</a></li>
                                <li><a href="candidate-grid.html">Browse Candidates</a></li>
                                <li><a href="employer-change-password.html">Change Password</a></li>
                                <li><a href="employer-account-fresher.html">Register Fresher</a></li>
                                <li><a href="employer-account-professional.html">Register Professionals</a></li>
                            </ul>
                        </li>
                        <li class="has-child">
                            <a href="javascript:;">Pages</a>
                            <ul class="sub-menu">
                                <li><a href="about-1.html">About Us</a></li>
                                <li><a href="pricing.html">Pricing</a></li>
                                <li><a href="error-404.html">Error-404</a></li>
                                <li><a href="faq.html">FAQ's</a></li>
                                <li><a href="contact.html">Contact Us</a></li>
                                <li><a href="under-maintenance.html">Under Maintenance</a></li>
                                <li><a href="coming-soon.html">Coming soon</a></li>
                                <li><a href="icons.html">Icons</a></li>
                            </ul>
                        </li>
                        <li class="has-child">
                            <a href="javascript:;">Candidates</a>
                            <ul class="sub-menu">
                                <li><a href="candidate-grid.html">Candidates Grid</a></li>
                                <li><a href="candidate-list.html">Candidates List</a></li>
                                <li class="has-child">
                                    <a href="javascript:;">Candidate Detail</a>
                                    <ul class="sub-menu">
                                        <li><a href="candidate-detail.html">Detail 1</a></li>
                                        <li><a href="candidate-detail-v2.html">Detail 2</a></li>
                                    </ul>
                                </li>
                                <li><a href="candidate-dashboard.html">Dashboard</a></li>
                                <li><a href="candidate-profile.html">My Profile</a></li>
                                <li><a href="candidate-jobs-applied.html">Applied Jobs</a></li>
                                <li><a href="candidate-my-resume.html">My Resume</a></li>
                                <li><a href="candidate-saved-jobs.html">Saved Jobs</a></li>
                                <li><a href="candidate-cv-manager.html">CV Manager</a></li>
                                <li><a href="candidate-job-alert.html">Job Alerts</a></li>
                                <li><a href="candidate-change-password.html">Change Password</a></li>
                                <li><a href="candidate-chat.html">Chat</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <!-- RIGHT SIDE NAV (SEARCH + AUTH/PROFILE) -->
                <div class="extra-nav header-2-nav">
                    <!-- SEARCH -->
                    <div class="extra-cell">
                        <div class="header-search">
                            <a href="#search" class="header-search-icon"><i class="feather-search"></i></a>
                        </div>
                    </div>

                    <!-- GUEST HEADER (Login/Signup buttons) -->
                    <div id="header-guest" class="extra-cell header-auth-section">
                        <div class="header-nav-btn-section">
                            <div class="twm-nav-btn-left">
                                <a id="nav-signup-btn" class="twm-nav-sign-up" href="register.html" role="button">
                                    <i class="feather-log-in"></i> Sign Up
                                </a>
                            </div>
                            <div class="twm-nav-btn-right">
                                <a id="nav-login-btn" class="twm-nav-post-a-job" href="after-login.html" role="button">
                                    <i class="feather-log-in"></i> Login
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- LOGGED-IN HEADER (Profile Menu) -->
                    <div id="header-loggedin" class="extra-cell">
                        <div class="user-profile-menu">
                            <style>
                                .user-profile-menu {
                                    position: relative;
                                    display: flex;
                                    align-items: center;
                                    margin: 0 15px;
                                }
                                
                                .profile-toggle {
                                    display: flex;
                                    align-items: center;
                                    gap: 10px;
                                    cursor: pointer;
                                    padding: 5px 10px;
                                    border-radius: 25px;
                                    transition: all 0.3s ease;
                                    background: rgba(102, 126, 234, 0.1);
                                }
                                
                                .profile-toggle:hover {
                                    background: rgba(102, 126, 234, 0.2);
                                }
                                
                                .profile-photo {
                                    width: 40px;
                                    height: 40px;
                                    border-radius: 50%;
                                    object-fit: cover;
                                    border: 2px solid #667eea;
                                    background: #f0f0f0;
                                }
                                
                                .profile-username {
                                    font-weight: 500;
                                    color: #333;
                                    display: none;
                                    max-width: 120px;
                                    white-space: nowrap;
                                    overflow: hidden;
                                    text-overflow: ellipsis;
                                }
                                
                                @media (min-width: 768px) {
                                    .profile-username {
                                        display: block;
                                    }
                                }
                                
                                .profile-dropdown {
                                    position: absolute;
                                    top: 100%;
                                    right: 0;
                                    background: white;
                                    border: 1px solid #e0e0e0;
                                    border-radius: 8px;
                                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                                    min-width: 200px;
                                    margin-top: 8px;
                                    z-index: 1000;
                                    opacity: 0;
                                    visibility: hidden;
                                    transform: translateY(-10px);
                                    transition: all 0.3s ease;
                                }
                                
                                .profile-dropdown.active {
                                    opacity: 1;
                                    visibility: visible;
                                    transform: translateY(0);
                                }
                                
                                .dropdown-header {
                                    padding: 12px 16px;
                                    border-bottom: 1px solid #f0f0f0;
                                    display: flex;
                                    align-items: center;
                                    gap: 10px;
                                }
                                
                                .dropdown-user-info {
                                    flex: 1;
                                }
                                
                                .dropdown-username {
                                    font-weight: 600;
                                    color: #333;
                                    font-size: 14px;
                                }
                                
                                .dropdown-role {
                                    font-size: 12px;
                                    color: #999;
                                    text-transform: capitalize;
                                }
                                
                                .dropdown-menu-item {
                                    padding: 10px 16px;
                                    cursor: pointer;
                                    display: flex;
                                    align-items: center;
                                    gap: 10px;
                                    color: #333;
                                    transition: all 0.2s ease;
                                    border: none;
                                    background: none;
                                    width: 100%;
                                    text-align: left;
                                    font-size: 14px;
                                }
                                
                                .dropdown-menu-item:hover {
                                    background: #f8f9fa;
                                    color: #667eea;
                                    padding-left: 20px;
                                }
                                
                                .dropdown-menu-item i {
                                    width: 16px;
                                    text-align: center;
                                }
                                
                                .dropdown-divider {
                                    height: 1px;
                                    background: #f0f0f0;
                                    margin: 5px 0;
                                }
                                
                                .logout-btn {
                                    color: #f5576c !important;
                                }
                                
                                .logout-btn:hover {
                                    background: #ffe0e6 !important;
                                }
                            </style>

                            <div class="profile-toggle" onclick="window.headerManager?.toggleDropdown()">
                                <img id="header-profile-photo" class="profile-photo" src="images/user-avtar/pic4.jpg" alt="Profile">
                                <span class="profile-username" id="header-profile-username"></span>
                                <i class="fas fa-chevron-down" style="font-size: 12px; color: #667eea;"></i>
                            </div>

                            <div id="header-profile-dropdown" class="profile-dropdown">
                                <div class="dropdown-header">
                                    <img id="header-dropdown-photo" class="profile-photo" src="images/user-avtar/pic4.jpg" alt="Profile" style="width: 35px; height: 35px;">
                                    <div class="dropdown-user-info">
                                        <div class="dropdown-username" id="header-dropdown-username"></div>
                                        <div class="dropdown-role" id="header-dropdown-role">Candidate</div>
                                    </div>
                                </div>

                                <button class="dropdown-menu-item" onclick="window.headerManager?.goToProfile()">
                                    <i class="fas fa-user"></i>
                                    My Profile
                                </button>

                                <button class="dropdown-menu-item" onclick="window.headerManager?.goToSettings()">
                                    <i class="fas fa-cog"></i>
                                    Settings
                                </button>

                                <div class="dropdown-divider"></div>

                                <button class="dropdown-menu-item logout-btn" onclick="window.headerManager?.logout()">
                                    <i class="fas fa-sign-out-alt"></i>
                                    Logout
                                </button>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>

        <!-- SEARCH BAR -->
        <div id="search">
            <span class="close"></span>
            <form role="search" id="searchform" action="/search" method="get" class="radius-xl">
                <input class="form-control" value="" name="q" type="search" placeholder="Type to search"/>
                <span class="input-group-append">
                    <button type="button" class="search-btn">
                        <i class="fa fa-paper-plane"></i>
                    </button>
                </span>
            </form>
        </div>
    </div>
</header>
